var db_1 = require('./db');
function router(app) {
    app.get('/api/profiles/me', function (req, res) {
        console.log('get me', db_1.profiles[0]);
        res.json(db_1.profiles[0]);
    });
    app.get('/api/profiles/current', function (req, res) {
        var tempArr = db_1.profiles.slice(1);
        console.log('get current', tempArr);
        res.json(tempArr);
    });
    app.post('/api/profiles/add', function (req, res) {
        req.body.id = db_1.profiles[db_1.profiles.length - 1].id + 1;
        req.body.image = '/common-assets/generic-avatar.png';
        db_1.profiles.push(req.body);
        console.log('new profile', req.body);
        res.json(req.body);
    });
    app.get('/api/profiles/:id', function (req, res) {
        var profileArr = db_1.profiles.filter(function (value) {
            if (value.id == req.params.id) {
                return true;
            }
            return false;
        });
        if (!profileArr[0]) {
            var error = new Error('Could not find profile');
            return res.status(404).send(error);
        }
        console.log('get profile with id of %s', req.params.id, profileArr[0]);
        res.json(profileArr[0]);
    });
    app.post('/api/profiles/:id/interests', function (req, res) {
        var profileArr = db_1.profiles.filter(function (value) {
            if (value.id == req.params.id) {
                return true;
            }
            return false;
        });
        if (!profileArr[0]) {
            var error = new Error('Could not find profile');
            return res.status(404).send(error);
        }
        var interest;
        if (req.body.interest) {
            interest = req.body.interest;
        }
        else if (req.text) {
            interest = req.text;
        }
        console.log('new interest for profile %s', req.params.id, interest);
        if (req.query.index) {
            profileArr[0].interests[req.query.index] = interest;
        }
        else {
            profileArr[0].interests.push(interest);
        }
        res.json(interest);
    });
    app.delete('/api/profiles/:id/interests', function (req, res) {
        var profileArr = db_1.profiles.filter(function (value) {
            if (value.id == req.params.id) {
                return true;
            }
            return false;
        });
        if (!profileArr[0]) {
            var error = new Error('Could not find profile');
            return res.status(404).send(error);
        }
        console.log('deleting interest from profile %s', req.params.id, req.query.q);
        var profileIndex = db_1.profiles.indexOf(profileArr[0]);
        if (profileIndex !== -1) {
            var interestIndex = db_1.profiles[profileIndex].interests.indexOf(req.query.q);
            db_1.profiles[profileIndex].interests.splice(interestIndex, 1);
        }
        res.json([req.query.interest]);
    });
}
exports.router = router;

//# sourceMappingURL=data:application/json;base64,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QUFVQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUN6QkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFFSEEsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsNkJBQTZCQSxFQUFFQSxVQUFDQSxHQUFHQSxFQUFFQSxHQUFHQTtRQUNoREEsSUFBSUEsVUFBVUEsR0FBR0EsYUFBUUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsVUFBQ0EsS0FBS0E7WUFDdENBLEVBQUVBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLEVBQUVBLElBQUlBLEdBQUdBLENBQUNBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO2dCQUMvQkEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7WUFDYkEsQ0FBQ0E7WUFFREEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7UUFDZEEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFHSEEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDcEJBLElBQUlBLEtBQUtBLEdBQUdBLElBQUlBLEtBQUtBLENBQUNBLHdCQUF3QkEsQ0FBQ0EsQ0FBQ0E7WUFDaERBLE1BQU1BLENBQUNBLEdBQUdBLENBQUNBLE1BQU1BLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBO1FBQ3BDQSxDQUFDQTtRQUVEQSxJQUFJQSxRQUFnQkEsQ0FBQ0E7UUFFckJBLEVBQUVBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBO1lBQ3ZCQSxRQUFRQSxHQUFHQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQTtRQUM5QkEsQ0FBQ0E7UUFBQ0EsSUFBSUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDckJBLFFBQVFBLEdBQUdBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBO1FBQ3JCQSxDQUFDQTtRQUVEQSxPQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSw2QkFBNkJBLEVBQUVBLEdBQUdBLENBQUNBLE1BQU1BLENBQUNBLEVBQUVBLEVBQUVBLFFBQVFBLENBQUNBLENBQUNBO1FBRXBFQSxFQUFFQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFLQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNyQkEsVUFBVUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsUUFBUUEsQ0FBQ0E7UUFDckRBLENBQUNBO1FBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ1BBLFVBQVVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLFNBQVNBLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO1FBQ3hDQSxDQUFDQTtRQUVEQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtJQUNwQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFFSEEsR0FBR0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsNkJBQTZCQSxFQUFFQSxVQUFDQSxHQUFHQSxFQUFFQSxHQUFHQTtRQUNsREEsSUFBSUEsVUFBVUEsR0FBR0EsYUFBUUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsVUFBQ0EsS0FBS0E7WUFDdENBLEVBQUVBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLEVBQUVBLElBQUlBLEdBQUdBLENBQUNBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO2dCQUMvQkEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7WUFDYkEsQ0FBQ0E7WUFFREEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7UUFDZEEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFSEEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDcEJBLElBQUlBLEtBQUtBLEdBQUdBLElBQUlBLEtBQUtBLENBQUNBLHdCQUF3QkEsQ0FBQ0EsQ0FBQ0E7WUFDaERBLE1BQU1BLENBQUNBLEdBQUdBLENBQUNBLE1BQU1BLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBO1FBQ3BDQSxDQUFDQTtRQUVEQSxPQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSxtQ0FBbUNBLEVBQUVBLEdBQUdBLENBQUNBLE1BQU1BLENBQUNBLEVBQUVBLEVBQUVBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQzdFQSxJQUFJQSxZQUFZQSxHQUFHQSxhQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNuREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsWUFBWUEsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDekJBLElBQUlBLGFBQWFBLEdBQUdBLGFBQVFBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLFNBQVNBLENBQUNBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBRTFFQSxhQUFRQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxTQUFTQSxDQUFDQSxNQUFNQSxDQUFDQSxhQUFhQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUMzREEsQ0FBQ0E7UUFFREEsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDaENBLENBQUNBLENBQUNBLENBQUNBO0FBQ0pBLENBQUNBO0FBRVEsY0FBTSxVQUZkO0FBRWlCIiwiZmlsZSI6InJvdXRlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5cclxuaW1wb3J0IHsgcHJvZmlsZXMgfSBmcm9tICcuL2RiJztcclxuXHJcbmZ1bmN0aW9uIHJvdXRlcihhcHApIHtcclxuXHRhcHAuZ2V0KCcvYXBpL3Byb2ZpbGVzL21lJywgKHJlcSwgcmVzKSA9PiB7XHJcblx0XHRjb25zb2xlLmxvZygnZ2V0IG1lJywgcHJvZmlsZXNbMF0pO1xyXG5cdFx0cmVzLmpzb24ocHJvZmlsZXNbMF0pO1xyXG5cdH0pO1x0XHJcblx0XHJcblx0YXBwLmdldCgnL2FwaS9wcm9maWxlcy9jdXJyZW50JywgKHJlcSwgcmVzKSA9PiB7XHJcblx0XHRsZXQgdGVtcEFyciA9IHByb2ZpbGVzLnNsaWNlKDEpO1xyXG5cdFx0Y29uc29sZS5sb2coJ2dldCBjdXJyZW50JywgdGVtcEFycik7XHJcblx0XHRyZXMuanNvbih0ZW1wQXJyKTtcclxuXHR9KTtcclxuXHRcclxuXHRhcHAucG9zdCgnL2FwaS9wcm9maWxlcy9hZGQnLCAocmVxLCByZXMpID0+IHtcclxuXHRcdHJlcS5ib2R5LmlkID0gcHJvZmlsZXNbcHJvZmlsZXMubGVuZ3RoIC0gMV0uaWQgKyAxO1xyXG5cdFx0cmVxLmJvZHkuaW1hZ2UgPSAnL2NvbW1vbi1hc3NldHMvZ2VuZXJpYy1hdmF0YXIucG5nJztcclxuXHRcdHByb2ZpbGVzLnB1c2gocmVxLmJvZHkpO1xyXG5cdFx0Y29uc29sZS5sb2coJ25ldyBwcm9maWxlJywgcmVxLmJvZHkpO1xyXG5cdFx0cmVzLmpzb24ocmVxLmJvZHkpO1xyXG5cdH0pO1xyXG5cdFxyXG5cdGFwcC5nZXQoJy9hcGkvcHJvZmlsZXMvOmlkJywgKHJlcSwgcmVzKSA9PiB7XHJcblx0XHRsZXQgcHJvZmlsZUFyciA9IHByb2ZpbGVzLmZpbHRlcigodmFsdWUpID0+IHtcclxuXHRcdFx0aWYgKHZhbHVlLmlkID09IHJlcS5wYXJhbXMuaWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdGlmICghcHJvZmlsZUFyclswXSkge1xyXG5cdFx0XHRsZXQgZXJyb3IgPSBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIHByb2ZpbGUnKTtcclxuXHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKGVycm9yKTtcclxuXHRcdH1cclxuXHRcdGNvbnNvbGUubG9nKCdnZXQgcHJvZmlsZSB3aXRoIGlkIG9mICVzJywgcmVxLnBhcmFtcy5pZCwgcHJvZmlsZUFyclswXSk7XHJcblx0XHRyZXMuanNvbihwcm9maWxlQXJyWzBdKTtcclxuXHR9KTtcclxuXHRcclxuXHRhcHAucG9zdCgnL2FwaS9wcm9maWxlcy86aWQvaW50ZXJlc3RzJywgKHJlcSwgcmVzKSA9PiB7XHJcblx0XHRsZXQgcHJvZmlsZUFyciA9IHByb2ZpbGVzLmZpbHRlcigodmFsdWUpID0+IHtcclxuXHRcdFx0aWYgKHZhbHVlLmlkID09IHJlcS5wYXJhbXMuaWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdFxyXG5cdFx0aWYgKCFwcm9maWxlQXJyWzBdKSB7XHJcblx0XHRcdGxldCBlcnJvciA9IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgcHJvZmlsZScpO1xyXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoZXJyb3IpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRsZXQgaW50ZXJlc3Q6IHN0cmluZztcclxuXHRcdFxyXG5cdFx0aWYgKHJlcS5ib2R5LmludGVyZXN0KSB7XHJcblx0XHRcdGludGVyZXN0ID0gcmVxLmJvZHkuaW50ZXJlc3Q7XHJcblx0XHR9IGVsc2UgaWYgKHJlcS50ZXh0KSB7XHJcblx0XHRcdGludGVyZXN0ID0gcmVxLnRleHQ7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnNvbGUubG9nKCduZXcgaW50ZXJlc3QgZm9yIHByb2ZpbGUgJXMnLCByZXEucGFyYW1zLmlkLCBpbnRlcmVzdCk7XHJcblx0XHRcclxuXHRcdGlmIChyZXEucXVlcnkuaW5kZXgpIHtcclxuXHRcdFx0cHJvZmlsZUFyclswXS5pbnRlcmVzdHNbcmVxLnF1ZXJ5LmluZGV4XSA9IGludGVyZXN0O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cHJvZmlsZUFyclswXS5pbnRlcmVzdHMucHVzaChpbnRlcmVzdCk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHJlcy5qc29uKGludGVyZXN0KTtcclxuXHR9KTtcclxuXHRcclxuXHRhcHAuZGVsZXRlKCcvYXBpL3Byb2ZpbGVzLzppZC9pbnRlcmVzdHMnLCAocmVxLCByZXMpID0+IHtcclxuXHRcdGxldCBwcm9maWxlQXJyID0gcHJvZmlsZXMuZmlsdGVyKCh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRpZiAodmFsdWUuaWQgPT0gcmVxLnBhcmFtcy5pZCkge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0aWYgKCFwcm9maWxlQXJyWzBdKSB7XHJcblx0XHRcdGxldCBlcnJvciA9IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgcHJvZmlsZScpO1xyXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoZXJyb3IpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRjb25zb2xlLmxvZygnZGVsZXRpbmcgaW50ZXJlc3QgZnJvbSBwcm9maWxlICVzJywgcmVxLnBhcmFtcy5pZCwgcmVxLnF1ZXJ5LnEpO1xyXG5cdFx0bGV0IHByb2ZpbGVJbmRleCA9IHByb2ZpbGVzLmluZGV4T2YocHJvZmlsZUFyclswXSk7XHJcblx0XHRpZiAocHJvZmlsZUluZGV4ICE9PSAtMSkge1xyXG5cdFx0XHRsZXQgaW50ZXJlc3RJbmRleCA9IHByb2ZpbGVzW3Byb2ZpbGVJbmRleF0uaW50ZXJlc3RzLmluZGV4T2YocmVxLnF1ZXJ5LnEpO1xyXG5cdFx0XHRcclxuXHRcdFx0cHJvZmlsZXNbcHJvZmlsZUluZGV4XS5pbnRlcmVzdHMuc3BsaWNlKGludGVyZXN0SW5kZXgsIDEpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRyZXMuanNvbihbcmVxLnF1ZXJ5LmludGVyZXN0XSk7XHJcblx0fSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IHJvdXRlciB9OyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
