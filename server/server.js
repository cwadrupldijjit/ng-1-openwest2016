/// <reference path="../typings/main.d.ts" />
var express = require('express');
var bodyParser = require('body-parser');
var cors = require('cors');
var routes_1 = require('./routes');
var app = express();
var pathToNgPublic = __dirname + '/../ng-public';
var pathToNg2Public = __dirname + '/../ng2-public';
var pathToNgUpgradePublic = __dirname + '/../ng-upgrade-public';
app.use(bodyParser.json());
app.use(cors());
app.use('/node_modules', express.static(__dirname + '/../node_modules'));
app.use('/common-assets', express.static(__dirname + '/../common-assets'));
app.use('/ng-app', express.static(pathToNgPublic + '/app'));
app.use('/ng2-app', express.static(pathToNg2Public + '/app'));
app.use('/ng-upgrade-app', express.static(pathToNgUpgradePublic + '/app'));
routes_1.router(app);
app.all('/ng-example*', function (req, res) {
    res.sendFile('index.html', { root: pathToNgPublic });
});
app.all('/ng2-example*', function (req, res) {
    res.sendFile('index.html', { root: pathToNg2Public });
});
app.all('/ng-upgrade-example*', function (req, res) {
    res.sendFile('index.html', { root: pathToNgUpgradePublic });
});
app.all('/*', function (req, res) {
    res.sendFile('landing.html', { root: __dirname + '/..' });
});
app.listen('8787', function listener() {
    console.log('Express app listening at "http://localhost:8787/"');
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci50cyJdLCJuYW1lcyI6WyJsaXN0ZW5lciJdLCJtYXBwaW5ncyI6IkFBQUEsNkNBQTZDO0FBRTdDLElBQU8sT0FBTyxXQUFXLFNBQVMsQ0FBQyxDQUFDO0FBQ3BDLElBQU8sVUFBVSxXQUFXLGFBQWEsQ0FBQyxDQUFDO0FBQzNDLElBQU8sSUFBSSxXQUFXLE1BQU0sQ0FBQyxDQUFDO0FBRTlCLHVCQUF1QixVQUFVLENBQUMsQ0FBQTtBQUVsQyxJQUFJLEdBQUcsR0FBRyxPQUFPLEVBQUUsQ0FBQztBQUNwQixJQUFJLGNBQWMsR0FBRyxTQUFTLEdBQUcsZUFBZSxDQUFDO0FBQ2pELElBQUksZUFBZSxHQUFHLFNBQVMsR0FBRyxnQkFBZ0IsQ0FBQztBQUNuRCxJQUFJLHFCQUFxQixHQUFHLFNBQVMsR0FBRyx1QkFBdUIsQ0FBQztBQUdoRSxHQUFHLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0FBQzNCLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUdoQixHQUFHLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsR0FBRyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7QUFDekUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsR0FBRyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7QUFFM0UsR0FBRyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxjQUFjLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUM1RCxHQUFHLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLGVBQWUsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQzlELEdBQUcsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBRzNFLGVBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUdaLEdBQUcsQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUc7SUFDaEMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsRUFBQyxJQUFJLEVBQUUsY0FBYyxFQUFDLENBQUMsQ0FBQztBQUNwRCxDQUFDLENBQUMsQ0FBQztBQUNILEdBQUcsQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUc7SUFDakMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsRUFBQyxJQUFJLEVBQUUsZUFBZSxFQUFDLENBQUMsQ0FBQztBQUNyRCxDQUFDLENBQUMsQ0FBQztBQUNILEdBQUcsQ0FBQyxHQUFHLENBQUMsc0JBQXNCLEVBQUUsVUFBQyxHQUFHLEVBQUUsR0FBRztJQUN4QyxHQUFHLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxFQUFDLElBQUksRUFBRSxxQkFBcUIsRUFBQyxDQUFDLENBQUM7QUFDM0QsQ0FBQyxDQUFDLENBQUM7QUFDSCxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxVQUFDLEdBQUcsRUFBRSxHQUFHO0lBQ3RCLEdBQUcsQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLEVBQUMsSUFBSSxFQUFFLFNBQVMsR0FBRyxLQUFLLEVBQUMsQ0FBQyxDQUFDO0FBQ3pELENBQUMsQ0FBQyxDQUFDO0FBR0gsR0FBRyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUU7SUFDbEJBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLG1EQUFtREEsQ0FBQ0EsQ0FBQ0E7QUFDbEVBLENBQUNBLENBQUMsQ0FBQyIsImZpbGUiOiJzZXJ2ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9tYWluLmQudHNcIiAvPlxyXG5cclxuaW1wb3J0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmltcG9ydCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTtcclxuaW1wb3J0IGNvcnMgPSByZXF1aXJlKCdjb3JzJyk7XHJcblxyXG5pbXBvcnQgeyByb3V0ZXIgfSBmcm9tICcuL3JvdXRlcyc7XHJcblxyXG5sZXQgYXBwID0gZXhwcmVzcygpO1xyXG5sZXQgcGF0aFRvTmdQdWJsaWMgPSBfX2Rpcm5hbWUgKyAnLy4uL25nLXB1YmxpYyc7XHJcbmxldCBwYXRoVG9OZzJQdWJsaWMgPSBfX2Rpcm5hbWUgKyAnLy4uL25nMi1wdWJsaWMnO1xyXG5sZXQgcGF0aFRvTmdVcGdyYWRlUHVibGljID0gX19kaXJuYW1lICsgJy8uLi9uZy11cGdyYWRlLXB1YmxpYyc7XHJcblxyXG5cclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XHJcbmFwcC51c2UoY29ycygpKTtcclxuXHJcblxyXG5hcHAudXNlKCcvbm9kZV9tb2R1bGVzJywgZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lICsgJy8uLi9ub2RlX21vZHVsZXMnKSk7XHJcbmFwcC51c2UoJy9jb21tb24tYXNzZXRzJywgZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lICsgJy8uLi9jb21tb24tYXNzZXRzJykpO1xyXG5cclxuYXBwLnVzZSgnL25nLWFwcCcsIGV4cHJlc3Muc3RhdGljKHBhdGhUb05nUHVibGljICsgJy9hcHAnKSk7XHJcbmFwcC51c2UoJy9uZzItYXBwJywgZXhwcmVzcy5zdGF0aWMocGF0aFRvTmcyUHVibGljICsgJy9hcHAnKSk7XHJcbmFwcC51c2UoJy9uZy11cGdyYWRlLWFwcCcsIGV4cHJlc3Muc3RhdGljKHBhdGhUb05nVXBncmFkZVB1YmxpYyArICcvYXBwJykpO1xyXG5cclxuXHJcbnJvdXRlcihhcHApO1xyXG5cclxuXHJcbmFwcC5hbGwoJy9uZy1leGFtcGxlKicsIChyZXEsIHJlcykgPT4ge1xyXG5cdHJlcy5zZW5kRmlsZSgnaW5kZXguaHRtbCcsIHtyb290OiBwYXRoVG9OZ1B1YmxpY30pO1xyXG59KTtcclxuYXBwLmFsbCgnL25nMi1leGFtcGxlKicsIChyZXEsIHJlcykgPT4ge1xyXG5cdHJlcy5zZW5kRmlsZSgnaW5kZXguaHRtbCcsIHtyb290OiBwYXRoVG9OZzJQdWJsaWN9KTtcclxufSk7XHJcbmFwcC5hbGwoJy9uZy11cGdyYWRlLWV4YW1wbGUqJywgKHJlcSwgcmVzKSA9PiB7XHJcblx0cmVzLnNlbmRGaWxlKCdpbmRleC5odG1sJywge3Jvb3Q6IHBhdGhUb05nVXBncmFkZVB1YmxpY30pO1xyXG59KTtcclxuYXBwLmFsbCgnLyonLCAocmVxLCByZXMpID0+IHtcclxuXHRyZXMuc2VuZEZpbGUoJ2xhbmRpbmcuaHRtbCcsIHtyb290OiBfX2Rpcm5hbWUgKyAnLy4uJ30pO1xyXG59KTtcclxuXHJcblxyXG5hcHAubGlzdGVuKCc4Nzg3JywgZnVuY3Rpb24gbGlzdGVuZXIoKSB7XHJcblx0Y29uc29sZS5sb2coJ0V4cHJlc3MgYXBwIGxpc3RlbmluZyBhdCBcImh0dHA6Ly9sb2NhbGhvc3Q6ODc4Ny9cIicpO1xyXG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
